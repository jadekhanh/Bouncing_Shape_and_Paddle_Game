<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Phuong Khanh Tran</title>
    </head>
    <body>
        <h1>Phuong Khanh Tran</h1>

        <canvas id="JadeCanvas" width="600" height="400" style="border:1px solid #000000;"></canvas>

        <script type="module">
            import { Brick } from "./Brick.js";
            import { Ball } from "./Ball.js";

            // Get the canvas element and its context
            const canvas = document.getElementById("JadeCanvas");
            const ctx = canvas.getContext("2d");

            // Create a brick
            const myBrick = new Brick(300, 60, "brown", "yellow", "JadeCanvas", null);

            // Create a ball
            const myBall = new Ball(100, 100, "red", "black", "JadeCanvas", null, 20);
            const paddleObjects = [];

            // Update and draw the game objects
            // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/clearRect
            function UpdateAndDraw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

            if (myBrick.visible == true) {
                myBrick.draw();
                myBrick.isCollidingWithBall(myBall);

                // If the ball hits the brick, remove the brick
                if (myBrick.visible == false) {
                    myBrick.remove();
                }
            }
                myBall.update(paddleObjects);
                myBall.draw();

            }

            // Run the animation loop every 50 milliseconds
            // https://www.w3schools.com/jsref/met_win_setinterval.asp
            setInterval(UpdateAndDraw, 50);

        </script>
    </body>
</html>
